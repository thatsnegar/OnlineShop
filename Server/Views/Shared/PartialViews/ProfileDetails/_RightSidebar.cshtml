@inject DAL.IUnitOfwork unitOfWork

@{
    if (User is null || User.Identity is null || User.Identity.Name is null)
        return;

    var foundedOnlineUserName = User.Identity.Name;

    if (foundedOnlineUserName is null)
        return;

    var foundedOnlineUser =
        await unitOfWork.Users.GetUserByUsernameAsync(username: foundedOnlineUserName);

    if (foundedOnlineUser is null)
        return;

    if (foundedOnlineUser.Username is null)
        return;
}

<div class="col-12 col-lg-3 container-sidebar-account">
    <div class="sidebar-account">
        <div class="avatar-user d-flex flex-column justify-content-center align-items-center mt-5 mb-5">
            <div class="name-avatar-user">
                <div class="circle">
                    <span class="initials">
                         @(foundedOnlineUser.Username.Substring(startIndex: 0,length: 2).ToUpper())
                    </span>
                </div>
            </div>
        </div>
        <div class="account-menu">
            <div class="list-group flex-column">
                <a class="list-group-item" asp-controller="ProfileDetails" asp-action="Index" id="infoprofile-tab">
                    <i class="fal fa-clipboard-list-check me-3"></i>
                    جزییات حساب
                </a>

                <a class="list-group-item" asp-controller="WishListForCurrentUser" asp-action="WishListsForCurrentUser" id="favorits-tab">
                    <i class="fal fa-heart me-3"></i>
                    علاقه مندی ها
                </a>

                <a class="list-group-item" asp-controller="MessagesForCurrentUser" asp-action="UserNotifications" id="favorits-tab">
                 <i class="fal fa-envelope me-3"></i>
                    پیام ها
                </a>

                <a class="list-group-item" asp-controller="CommentsForCurrentUser" asp-action="Comments" id="comment-tab">
                    <i class="fal fa-comment-alt me-3"></i>
                    دیدگاهها
                </a>

                <a class="list-group-item" asp-controller="Address" asp-action="Index" id="contact-tab">
                    <i class="fal fa-map-marker-alt me-3"></i>
                    آدرس ها
                </a>
                <a class="list-group-item" asp-controller="UserOrders" asp-action="Index" id="orders-tab">
                    <i class="fal fa-cart-arrow-down me-3"></i>
                    سفارش ها
                </a>

                <a class="list-group-item" asp-controller="ChangePasswordForCurrentUser" asp-action="ChangePassword" id="home">
                    <i class="fal fa-lock-alt me-3"></i>
                    تغییر رمز عبور
                </a>

                <a class="list-group-item" asp-controller="Account" asp-action="Logout">
                    <i class="fal fa-sign-out-alt  me-3"></i>
                    خروج
                </a>
            </div>
        </div>
    </div>
</div>