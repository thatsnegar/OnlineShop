@model IEnumerable<ViewModels.Questions.SkinQuizeViewModel>

<section class="multi-step-Question">
	<div class="container-fluid container-4xl">
		<div class="row">
			<div class="col-12 col-md-12 col-lg-12">
				<form id="msform" asp-controller="Consultation" asp-action="Calculate" method="post">
					<ul id="progressbar">
						@for (var i = 0; i <= Model.Count(); i++)
						{
							if (i == 0)
							{
								<li class="active"></li>
							}
							else
							{
								<li></li>
							}
						}
					</ul>
					<fieldset>
						<h3 class="fs-subtitle">
							سن من هست:
						</h3>
						<div class="fs-body-center">
							<input type="radio" class="btn-check" name="age" id="danger-outlined1" autocomplete="off" value="24" />
							<label class="btn btn-outline-danger" for="danger-outlined1">
								کمتر از 24 سال سن
							</label><br>
							<input type="radio" class="btn-check" name="age" id="danger-outlined2" autocomplete="off" value="34" />
							<label class="btn btn-outline-danger" for="danger-outlined2">
								بین 25 تا 34 سال سن
							</label><br>
							<input type="radio" class="btn-check" name="age" id="danger-outlined3" autocomplete="off" value="45" />
							<label class="btn btn-outline-danger" for="danger-outlined3">
								بین 35 تا 45 سال سن
							</label><br>
							<input type="radio" class="btn-check" name="age" id="danger-outlined4" autocomplete="off" value="46" />
							<label class="btn btn-outline-danger" for="danger-outlined4">
								بالاتر از 46 سال سن
							</label><br>
						</div>
						<input type="button" name="next" class="next action-button" value="ادامه" />
					</fieldset>

					@if (Model is not null && Model.Any())
					{
						var i = 1;

						var j = 1;

						foreach (var item in Model)
						{
							<fieldset>

								<h3 class="fs-subtitle">
									@(item.QuestionTitle)
								</h3>

								<p>
									@(item.QuestionText)
								</p>
								<div class="fs-body-all">
									<div class="fs-body">
										@if (item.Answers is not null)
										{
											@foreach (var result in item.Answers)
											{
												if (result.ProductId is not null)
												{
													<input id="@($"item-{i}")" type="radio" name="@($"item{j}")" value="@(result.ProductId)" />
												}
												else
												{
													<input id="@($"item-{i}")" type="radio" name="@($"item{j}")" value="@(null)" />
												}


												<label for="@($"item-{i}")">
													@(result.Text)
												</label>

												<br />

												i++;
											}
										}
									</div>
									<div class="fs-body-left">
										<img src="~/assets/img/1.jpg" alt="">
									</div>
								</div>
								@{
									if(j == Model.Count())
									{
										<button type="submit" class="btn btn-success">نمایش پاسخ</button>
									}
									else
									{
										<input type="button" name="next" class="next action-button" value="ادامه" />
									}
								}
								<input type="button" name="previous" class="previous action-button-prev" value="بازگشت" />
					</fieldset>

							j++;
						}
					}
				</form>
			</div>
		</div>
	</div>
</section>

@section Scripts {
	<script type="text/javascript" src="~/assets/js/multi-step.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js" type="text/javascript"></script>
}
